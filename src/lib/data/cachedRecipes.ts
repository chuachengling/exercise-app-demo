import { Recipe, MealType } from '../types/recipe';
import { HealthGoalId } from '../types/healthGoals';

/**
 * Fallback recipes for offline mode or when AI generation fails
 */
export const fallbackRecipes: Recipe[] = [
  {
    id: 'cached-1',
    title: 'Overnight Oats with Berries',
    description: 'Easy no-cook breakfast packed with fiber and protein to keep you full all morning.',
    image: 'https://via.placeholder.com/400x300/10b981/ffffff?text=Overnight+Oats',
    mealType: MealType.BREAKFAST,
    prepTime: 10,
    cookTime: 0,
    servings: 1,
    difficulty: 'Easy',
    ingredients: [
      { name: 'Rolled oats', amount: 0.5, unit: 'cup' },
      { name: 'Greek yogurt', amount: 0.5, unit: 'cup' },
      { name: 'Almond milk', amount: 0.5, unit: 'cup' },
      { name: 'Mixed berries', amount: 0.5, unit: 'cup' },
      { name: 'Honey', amount: 1, unit: 'tbsp' },
      { name: 'Chia seeds', amount: 1, unit: 'tbsp', optional: true },
    ],
    instructions: [
      'Combine oats, yogurt, and almond milk in a jar or container',
      'Stir in chia seeds if using',
      'Cover and refrigerate overnight (or at least 4 hours)',
      'In the morning, top with berries and drizzle with honey',
      'Enjoy cold or heat in microwave for 30-60 seconds',
    ],
    nutrition: {
      calories: 320,
      protein: 15,
      carbs: 48,
      fat: 8,
      fiber: 8,
    },
    tags: ['high-fiber', 'protein-rich', 'meal-prep', 'no-cook'],
    healthGoals: ['weight_loss', 'general_health'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
  {
    id: 'cached-2',
    title: 'Grilled Chicken & Quinoa Bowl',
    description: 'Protein-rich bowl perfect for muscle building and post-workout recovery.',
    image: 'https://via.placeholder.com/400x300/3b82f6/ffffff?text=Chicken+Bowl',
    mealType: MealType.LUNCH,
    prepTime: 15,
    cookTime: 25,
    servings: 2,
    difficulty: 'Easy',
    ingredients: [
      { name: 'Chicken breast', amount: 2, unit: 'pieces' },
      { name: 'Quinoa', amount: 1, unit: 'cup' },
      { name: 'Broccoli', amount: 2, unit: 'cups' },
      { name: 'Cherry tomatoes', amount: 1, unit: 'cup' },
      { name: 'Olive oil', amount: 2, unit: 'tbsp' },
      { name: 'Garlic powder', amount: 1, unit: 'tsp' },
      { name: 'Lemon juice', amount: 2, unit: 'tbsp' },
    ],
    instructions: [
      'Cook quinoa according to package directions',
      'Season chicken with garlic powder, salt, and pepper',
      'Grill chicken for 6-7 minutes per side until cooked through',
      'Steam broccoli for 5 minutes until tender',
      'Slice chicken and divide between bowls',
      'Add quinoa, broccoli, and cherry tomatoes',
      'Drizzle with olive oil and lemon juice',
    ],
    nutrition: {
      calories: 450,
      protein: 38,
      carbs: 42,
      fat: 14,
      fiber: 6,
    },
    tags: ['high-protein', 'meal-prep', 'gluten-free', 'balanced'],
    healthGoals: ['muscle_gain', 'competition_prep', 'general_health'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
  {
    id: 'cached-3',
    title: 'Mediterranean Salmon with Roasted Vegetables',
    description: 'Heart-healthy dinner rich in omega-3 fatty acids and colorful vegetables.',
    image: 'https://via.placeholder.com/400x300/f59e0b/ffffff?text=Salmon+Dinner',
    mealType: MealType.DINNER,
    prepTime: 15,
    cookTime: 25,
    servings: 2,
    difficulty: 'Medium',
    ingredients: [
      { name: 'Salmon fillets', amount: 2, unit: 'pieces' },
      { name: 'Zucchini', amount: 2, unit: 'medium' },
      { name: 'Bell peppers', amount: 2, unit: 'medium' },
      { name: 'Red onion', amount: 1, unit: 'medium' },
      { name: 'Olive oil', amount: 3, unit: 'tbsp' },
      { name: 'Lemon', amount: 1, unit: 'whole' },
      { name: 'Fresh herbs', amount: 2, unit: 'tbsp' },
      { name: 'Garlic', amount: 3, unit: 'cloves' },
    ],
    instructions: [
      'Preheat oven to 400°F (200°C)',
      'Chop vegetables into bite-sized pieces',
      'Toss vegetables with 2 tbsp olive oil, salt, and pepper',
      'Spread vegetables on a baking sheet',
      'Place salmon fillets on the same sheet',
      'Brush salmon with remaining olive oil and minced garlic',
      'Roast for 20-25 minutes until salmon is cooked through',
      'Squeeze lemon juice over everything before serving',
      'Garnish with fresh herbs',
    ],
    nutrition: {
      calories: 420,
      protein: 35,
      carbs: 22,
      fat: 22,
      fiber: 5,
      sodium: 180,
    },
    tags: ['heart-healthy', 'omega-3', 'Mediterranean', 'low-carb'],
    healthGoals: ['weight_loss', 'general_health', 'competition_prep'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
  {
    id: 'cached-4',
    title: 'Protein-Packed Energy Balls',
    description: 'Quick and easy no-bake snack perfect for pre or post-workout energy.',
    image: 'https://via.placeholder.com/400x300/8b5cf6/ffffff?text=Energy+Balls',
    mealType: MealType.SNACK,
    prepTime: 15,
    cookTime: 0,
    servings: 12,
    difficulty: 'Easy',
    ingredients: [
      { name: 'Rolled oats', amount: 1.5, unit: 'cups' },
      { name: 'Peanut butter', amount: 0.5, unit: 'cup' },
      { name: 'Honey', amount: 0.33, unit: 'cup' },
      { name: 'Protein powder', amount: 2, unit: 'scoops' },
      { name: 'Dark chocolate chips', amount: 0.5, unit: 'cup' },
      { name: 'Chia seeds', amount: 2, unit: 'tbsp' },
      { name: 'Vanilla extract', amount: 1, unit: 'tsp' },
    ],
    instructions: [
      'Mix all ingredients in a large bowl until well combined',
      'Refrigerate mixture for 30 minutes to firm up',
      'Roll mixture into 12 equal-sized balls',
      'Store in airtight container in refrigerator',
      'Enjoy within 1 week',
    ],
    nutrition: {
      calories: 180,
      protein: 8,
      carbs: 20,
      fat: 8,
      fiber: 3,
    },
    tags: ['no-bake', 'protein-rich', 'meal-prep', 'snack'],
    healthGoals: ['muscle_gain', 'general_health', 'competition_prep'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
  {
    id: 'cached-5',
    title: 'Green Smoothie Bowl',
    description: 'Nutrient-dense breakfast loaded with greens, fruits, and healthy toppings.',
    image: 'https://via.placeholder.com/400x300/06b6d4/ffffff?text=Smoothie+Bowl',
    mealType: MealType.BREAKFAST,
    prepTime: 10,
    cookTime: 0,
    servings: 1,
    difficulty: 'Easy',
    ingredients: [
      { name: 'Frozen banana', amount: 1, unit: 'large' },
      { name: 'Frozen mango', amount: 0.5, unit: 'cup' },
      { name: 'Fresh spinach', amount: 2, unit: 'cups' },
      { name: 'Greek yogurt', amount: 0.5, unit: 'cup' },
      { name: 'Almond milk', amount: 0.5, unit: 'cup' },
      { name: 'Granola', amount: 0.25, unit: 'cup' },
      { name: 'Fresh berries', amount: 0.25, unit: 'cup' },
      { name: 'Sliced almonds', amount: 2, unit: 'tbsp' },
    ],
    instructions: [
      'Blend banana, mango, spinach, yogurt, and almond milk until smooth',
      'Pour into a bowl',
      'Top with granola, fresh berries, and sliced almonds',
      'Enjoy immediately',
    ],
    nutrition: {
      calories: 380,
      protein: 16,
      carbs: 58,
      fat: 11,
      fiber: 9,
    },
    tags: ['smoothie', 'high-fiber', 'vegetarian', 'nutrient-dense'],
    healthGoals: ['weight_loss', 'general_health'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
  {
    id: 'cached-6',
    title: 'Turkey & Avocado Wrap',
    description: 'Quick and balanced lunch with lean protein and healthy fats.',
    image: 'https://via.placeholder.com/400x300/ef4444/ffffff?text=Turkey+Wrap',
    mealType: MealType.LUNCH,
    prepTime: 10,
    cookTime: 0,
    servings: 1,
    difficulty: 'Easy',
    ingredients: [
      { name: 'Whole wheat tortilla', amount: 1, unit: 'large' },
      { name: 'Turkey breast slices', amount: 4, unit: 'slices' },
      { name: 'Avocado', amount: 0.5, unit: 'medium' },
      { name: 'Romaine lettuce', amount: 2, unit: 'leaves' },
      { name: 'Tomato', amount: 0.5, unit: 'medium' },
      { name: 'Hummus', amount: 2, unit: 'tbsp' },
      { name: 'Red onion', amount: 0.25, unit: 'small', optional: true },
    ],
    instructions: [
      'Lay tortilla flat and spread hummus evenly',
      'Layer turkey slices in the center',
      'Add sliced avocado, lettuce, tomato, and onion if using',
      'Season with salt and pepper',
      'Roll tightly, folding in the sides',
      'Cut in half diagonally and serve',
    ],
    nutrition: {
      calories: 390,
      protein: 28,
      carbs: 35,
      fat: 16,
      fiber: 10,
    },
    tags: ['quick', 'portable', 'balanced', 'high-protein'],
    healthGoals: ['weight_loss', 'muscle_gain', 'general_health'],
    isFavorite: false,
    isAiGenerated: false,
    userId: '',
  },
];

/**
 * Get fallback recipes filtered by health goals
 */
export function getDefaultRecipesByGoal(goals: HealthGoalId[]): Recipe[] {
  if (!goals || goals.length === 0) {
    return fallbackRecipes;
  }
  
  return fallbackRecipes.filter(recipe =>
    recipe.healthGoals.some(goal => goals.includes(goal))
  );
}
